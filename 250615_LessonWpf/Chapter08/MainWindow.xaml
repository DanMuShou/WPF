<Window
    x:Class="Chapter08.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Chapter08"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="clr-namespace:System;assembly=System.Runtime"
    Title="MainWindow"
    Width="1200"
    Height="800"
    mc:Ignorable="d">

    <!--  作用域当前窗口  -->
    <!--  没有Key默认所有控件为当前样式  -->
    <Window.Resources>
        <Style x:Key="BtnStyle" TargetType="Button">
            <Setter Property="Background" Value="CadetBlue" />
            <Setter Property="FontSize" Value="30" />
            <EventSetter Event="Click" Handler="EventSetter_OnHandler" />
            <Setter Property="Foreground" Value="White" />
        </Style>
        <FontFamily x:Key="FontFamily">
            宋体
        </FontFamily>
        <FontWeight x:Key="FontWeight">
            Bold
        </FontWeight>
        <system:Double x:Key="FontSize">
            18
        </system:Double>
        <Style x:Key="BtnStyle3" TargetType="Button">
            <Style.Setters>
                <Setter Property="Background" Value="LightCoral" />
            </Style.Setters>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="LightGreen" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Foreground" Value="Blue" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="BtnStyle4" TargetType="Button">
            <Style.Setters>
                <Setter Property="Background" Value="LightCoral" />
            </Style.Setters>
            <Style.Triggers>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsMouseOver" Value="True" />
                        <Condition Property="IsPressed" Value="True" />
                    </MultiTrigger.Conditions>
                    <MultiTrigger.Setters>
                        <Setter Property="FontSize" Value="40" />
                    </MultiTrigger.Setters>
                </MultiTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="BtnStyle5" TargetType="Button">
            <Style.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation
                                    Storyboard.TargetProperty="FontSize"
                                    To="80"
                                    Duration="0:0:0.2" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>

                <EventTrigger RoutedEvent="MouseLeave">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation
                                    Storyboard.TargetProperty="FontSize"
                                    To="16"
                                    Duration="0:0:0.2" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>
            </Style.Triggers>
        </Style>
        <GeometryGroup x:Key="GeometryGroup">
            <RectangleGeometry Rect="0 0 250 100" />
            <EllipseGeometry
                Center="125 50"
                RadiusX="20"
                RadiusY="20" />
        </GeometryGroup>

        <CombinedGeometry x:Key="CombinedGeometry" GeometryCombineMode="Xor">
            <CombinedGeometry.Geometry1>
                <RectangleGeometry Rect="0 0 100 100" />
            </CombinedGeometry.Geometry1>
            <CombinedGeometry.Geometry2>
                <EllipseGeometry
                    Center="100 50"
                    RadiusX="20"
                    RadiusY="20" />
            </CombinedGeometry.Geometry2>
        </CombinedGeometry>

        <CombinedGeometry x:Key="CombinedGeometry1" GeometryCombineMode="Xor">
            <CombinedGeometry.Geometry1>
                <CombinedGeometry GeometryCombineMode="Exclude">
                    <CombinedGeometry.Geometry1>
                        <EllipseGeometry
                            Center="120 120"
                            RadiusX="100"
                            RadiusY="100" />
                    </CombinedGeometry.Geometry1>
                    <CombinedGeometry.Geometry2>
                        <RectangleGeometry Rect="0 0 240 20">
                            <RectangleGeometry.Transform>
                                <TransformGroup>
                                    <TranslateTransform X="0" Y="110" />
                                    <RotateTransform Angle="-45" CenterX="120" CenterY="120" />
                                </TransformGroup>
                            </RectangleGeometry.Transform>
                        </RectangleGeometry>
                    </CombinedGeometry.Geometry2>
                </CombinedGeometry>
            </CombinedGeometry.Geometry1>
            <CombinedGeometry.Geometry2>
                <EllipseGeometry
                    Center="120 120"
                    RadiusX="120"
                    RadiusY="120" />
            </CombinedGeometry.Geometry2>
        </CombinedGeometry>

        <GeometryGroup x:Key="GeometryGroup02">
            <EllipseGeometry
                Center="100 150"
                RadiusX="75"
                RadiusY="75" />
            <EllipseGeometry
                Center="200 150"
                RadiusX="100"
                RadiusY="25" />
            <EllipseGeometry
                Center="140 140"
                RadiusX="75"
                RadiusY="130" />
        </GeometryGroup>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="0" Grid.Column="0">
            <Button Content="111" />
            <Button Content="222" Style="{StaticResource BtnStyle}" />
            <Button Content="333">
                <Button.Resources>
                    <!--  作用范围仅仅为按钮内部  -->
                </Button.Resources>
            </Button>

            <Button Content="444" Style="{StaticResource BtnStyleDic}" />
            <Button Content="555" Style="{DynamicResource BtnStyle}" />
            <Button Click="Btn01_Click" Content="change 555Btn resource" />
        </StackPanel>

        <StackPanel Grid.Row="0" Grid.Column="1">
            <Label
                Content="111"
                FontFamily="{StaticResource FontFamily}"
                FontSize="{StaticResource FontSize}"
                FontWeight="{StaticResource FontWeight}" />
            <Button Content="111" Style="{StaticResource Style1}" />
        </StackPanel>

        <StackPanel Grid.Row="0" Grid.Column="2">
            <Button Content="111" Style="{StaticResource BtnStyle3}" />
            <Button Content="111" Style="{StaticResource BtnStyle4}" />
            <Button Content="111" Style="{StaticResource BtnStyle5}" />
        </StackPanel>

        <StackPanel Grid.Row="0" Grid.Column="3">
            <Rectangle
                Height="100"
                RadiusX="10"
                RadiusY="50"
                Stretch="Fill"
                StrokeDashArray="4,1"
                StrokeLineJoin="Miter"
                StrokeThickness="5">

                <Rectangle.Stroke>
                    <ImageBrush ImageSource="Resources/精灵-0001.png" />
                </Rectangle.Stroke>

            </Rectangle>
            <Ellipse
                Height="100"
                Fill="LightCoral"
                Stretch="UniformToFill"
                Stroke="Aquamarine"
                StrokeThickness="5" />

        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="0">
            <Canvas
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Background="Red">
                <Line
                    Canvas.Left="20"
                    Canvas.Top="20"
                    Fill="LightCoral"
                    Stroke="Aquamarine"
                    StrokeDashArray="2,1"
                    StrokeDashOffset="4"
                    StrokeEndLineCap="Round"
                    StrokeStartLineCap="Round"
                    StrokeThickness="10"
                    X1="0"
                    X2="100"
                    Y1="0"
                    Y2="100" />
                <Polyline
                    Canvas.Top="60"
                    Points="0 0 50 100 100 75 150 2"
                    Stroke="Aqua" />
                <Polygon
                    Fill="Yellow"
                    FillRule="Nonzero"
                    Points="15 200 68 70 110 200 0 125 135 125"
                    SnapsToDevicePixels="True"
                    Stroke="Blue" />
            </Canvas>
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="1">
            <Border Height="20">
                <Border.Background>
                    <SolidColorBrush Opacity="0.5" Color="BurlyWood" />
                </Border.Background>
            </Border>
            <TextBlock Margin="3" Text="FAAA!">
                <TextBlock.Foreground>
                    <SolidColorBrush Opacity="0.3" Color="Black" />
                </TextBlock.Foreground>
            </TextBlock>
            <Rectangle x:Name="Rectangle001" Height="100">
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="1 0" EndPoint="0 1">
                        <GradientStop Offset="0" Color="Red" />
                        <GradientStop Offset="0.25" Color="Orange" />
                        <GradientStop Offset="0.5" Color="Green" />
                        <GradientStop Offset="0.75" Color="Blue" />
                        <GradientStop Offset="1" Color="Aquamarine" />
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>
            <Ellipse Height="100">
                <Ellipse.Fill>
                    <RadialGradientBrush GradientOrigin="0,1" RadiusX="0.7" RadiusY="0.7">
                        <GradientStop Offset="0" Color="AliceBlue" />
                        <GradientStop Offset="0.2" Color="DarkGray" />
                        <GradientStop Offset="1" Color="Black" />
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="2">
            <Rectangle Height="100">
                <Rectangle.Fill>
                    <VisualBrush Visual="{Binding ElementName=Rectangle001}" />
                </Rectangle.Fill>
            </Rectangle>
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="3">
            <Rectangle Height="30" Fill="Yellow">
                <Rectangle.RenderTransform>
                    <RotateTransform Angle="50" CenterX="50" CenterY="50" />
                </Rectangle.RenderTransform>
            </Rectangle>
            <Rectangle Height="30" Fill="Yellow">
                <Rectangle.RenderTransform>
                    <RotateTransform Angle="75" CenterX="50" CenterY="50" />
                </Rectangle.RenderTransform>
            </Rectangle>
        </StackPanel>
        <StackPanel Grid.Row="2" Grid.Column="0">
            <Path
                Margin="3"
                Data="{StaticResource GeometryGroup}"
                Fill="DarkCyan"
                Stroke="Brown"
                StrokeThickness="5" />
            <Path
                Height="100"
                Margin="5"
                Data="{StaticResource CombinedGeometry}"
                Fill="DarkCyan"
                Stroke="Brown"
                StrokeThickness="5" />
        </StackPanel>

        <StackPanel Grid.Row="2" Grid.Column="1">
            <Path
                Height="250"
                Margin="5"
                Data="{StaticResource CombinedGeometry1}"
                Fill="DarkCyan"
                Stroke="Brown"
                StrokeThickness="5" />
        </StackPanel>

        <StackPanel Grid.Row="2" Grid.Column="2">
            <Path Stroke="DarkSlateGray" StrokeThickness="3">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure IsClosed="True" StartPoint="20 20">
                            <LineSegment Point="100 100" />
                            <LineSegment Point="100 50" />
                            <ArcSegment
                                Point="20 0"
                                Size="25 25"
                                SweepDirection="Clockwise" />
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>

            <Path Stroke="Black" StrokeThickness="4">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure IsClosed="True" StartPoint="10 10">
                            <LineSegment Point="30 30" />
                            <LineSegment Point="10 30" />
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>
            <Path Data="M10,100 L100,100 L100,50 Z M20,110 L110,110 L110,60 Z" Stroke="DarkSlateGray" />
        </StackPanel>

        <StackPanel Grid.Row="2" Grid.Column="3">
            <Image Clip="{StaticResource GeometryGroup02}" Source="Resources/精灵-0001.png" />
            <Path Data="{StaticResource GeometryGroup02}" Fill="Black" />
        </StackPanel>

    </Grid>
</Window>
